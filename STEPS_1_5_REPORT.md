# üéâ –û–¢–ß–Å–¢: –®–∞–≥–∏ 1-5 –ó–ê–í–ï–†–®–ï–ù–´

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏

### **–®–∞–≥ 1: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —à–æ—Ç–æ–≤ –ë–ï–ó –∑–≤—É–∫–∞**
- ‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `generator.js`: —É–¥–∞–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `-af`, `-c:a`, `-b:a`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `-an` (–æ—Ç–∫–ª—é—á–∏—Ç—å –∞—É–¥–∏–æ)
- ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ —Å–æ–∑–¥–∞–Ω–æ: `job_1768724960368_16b3ee1c`
  - –§–æ—Ä–º–∞—Ç: MP4 (H264 —Ç–æ–ª—å–∫–æ)
  - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 1080x1920
  - FPS: 30
  - –†–∞–∑–º–µ—Ä: 13 MB
  - –ê—É–¥–∏–æ: –ù–ï–¢ ‚úÖ

### **–®–∞–≥ 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ metadata (shots_used)**
- ‚úÖ –ü–∞—Ç—á –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è `shots_used` –≤ metadata
- ‚úÖ –ü—Ä–∏–º–µ–Ω—ë–Ω –≤ `runGeneratorJob` (—Å—Ç—Ä–æ–∫–∞ 213)
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª `video_0001_metadata.json`:
  ```json
  {
    "video_index": 1,
    "shots_used": {
      "hook_ids": [8],
      "mid_ids": [13, 15],
      "cta_ids": [16]
    },
    "filters_applied": [...],
    "output_path": "...",
    "generated_at": "2026-01-18T08:41:56.680Z"
  }
  ```

### **–®–∞–≥ 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ**
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç: `/home/synthnova/backend/scripts/extract_and_merge_audio.cjs`
- ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
  1. –ß–∏—Ç–∞–µ—Ç `video_0001_metadata.json`
  2. –ü–æ–ª—É—á–∞–µ—Ç –ø—É—Ç–∏ –∫ —à–æ—Ç–∞–º –∏–∑ –ë–î
  3. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∞—É–¥–∏–æ –∏–∑ –∫–∞–∂–¥–æ–≥–æ —à–æ—Ç–∞ (FFmpeg)
  4. –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –∞—É–¥–∏–æ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª: `video_0001_audio.mp3`
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:
  - Hook #8 ‚Üí 51.1 KB
  - Mid #13 ‚Üí 66.1 KB
  - Mid #15 ‚Üí 71.3 KB
  - CTA #16 ‚Üí 54.5 KB
  - **–ò—Ç–æ–≥–æ:** 240.8 KB (16.008 —Å–µ–∫—É–Ω–¥)

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**
- ‚úÖ –í–∏–¥–µ–æ (–±–µ–∑ –∑–≤—É–∫–∞): 16.000 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ê—É–¥–∏–æ: 16.008 —Å–µ–∫—É–Ω–¥
- ‚úÖ –†–∞–∑–Ω–∏—Ü–∞: **0.008 —Å–µ–∫—É–Ω–¥** (–ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ!)

### **–®–∞–≥ 5: –ù–∞–ª–æ–∂–µ–Ω–∏–µ –∞—É–¥–∏–æ –Ω–∞ –≤–∏–¥–µ–æ**
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç: `/home/synthnova/backend/scripts/merge_video_audio.cjs`
- ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
  1. –ë–µ—Ä—ë—Ç `video_0001.mp4` (–±–µ–∑ –∑–≤—É–∫–∞)
  2. –ë–µ—Ä—ë—Ç `video_0001_audio.mp3`
  3. –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —á–µ—Ä–µ–∑ FFmpeg: `-c:v copy -c:a aac -b:a 128k -shortest`
  4. –°–æ–∑–¥–∞—ë—Ç `video_0001_final.mp4`
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:
  - –ü—É—Ç—å: `/data/jobs/job_1768725682222_010da99c/videos/video_0001_final.mp4`
  - –†–∞–∑–º–µ—Ä: **8.45 MB**
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: **15.978 —Å–µ–∫—É–Ω–¥**
  - –í–∏–¥–µ–æ: H.264, 1080x1920, 30 FPS
  - –ê—É–¥–∏–æ: AAC ‚úÖ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/data/jobs/job_1768725682222_010da99c/videos/
‚îú‚îÄ‚îÄ video_0001.mp4              # –ë–µ–∑–∑–≤—É—á–Ω–æ–µ –≤–∏–¥–µ–æ (8.3 MB)
‚îú‚îÄ‚îÄ video_0001_metadata.json    # Metadata —Å shots_used (492 –±–∞–π—Ç)
‚îú‚îÄ‚îÄ video_0001_audio.mp3        # –ò–∑–≤–ª–µ—á—ë–Ω–Ω–æ–µ –∞—É–¥–∏–æ (240.8 KB)
‚îî‚îÄ‚îÄ video_0001_final.mp4        # –§–∏–Ω–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ —Å –∞—É–¥–∏–æ (8.45 MB) ‚úÖ
```

---

## üé¨ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∏–¥–µ–æ

### **–ë—Ä–∞—É–∑–µ—Ä:**
https://edit.synthnova.me/final-video.html

### **–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞:**
https://edit.synthnova.me/static/final_video_with_audio.mp4

---

## üîß –°–∫—Ä–∏–ø—Ç—ã

### **1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ:**
```bash
cd /home/synthnova/backend
node scripts/extract_and_merge_audio.cjs <job_id> <video_index>

# –ü—Ä–∏–º–µ—Ä:
node scripts/extract_and_merge_audio.cjs job_1768725682222_010da99c 1
```

### **2. –ù–∞–ª–æ–∂–µ–Ω–∏–µ –∞—É–¥–∏–æ –Ω–∞ –≤–∏–¥–µ–æ:**
```bash
cd /home/synthnova/backend
node scripts/merge_video_audio.cjs <job_id> <video_index>

# –ü—Ä–∏–º–µ—Ä:
node scripts/merge_video_audio.cjs job_1768725682222_010da99c 1
```

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–í–∏–¥–µ–æ –∫–æ–¥–µ–∫** | H.264 |
| **–ê—É–¥–∏–æ –∫–æ–¥–µ–∫** | AAC, 128 kbps |
| **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ** | 1080x1920 (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ) |
| **FPS** | 30 |
| **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ~16 —Å–µ–∫—É–Ω–¥ |
| **–†–∞–∑–º–µ—Ä** | 8.45 MB |
| **–®–æ—Ç—ã** | 1 Hook + 2 Mid + 1 CTA |

---

## ‚úÖ –°—Ç–∞—Ç—É—Å: –®–ê–ì–ò 1-5 –ó–ê–í–ï–†–®–ï–ù–´!

- ‚úÖ **–®–∞–≥ 1:** –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —à–æ—Ç–æ–≤ –ë–ï–ó –∑–≤—É–∫–∞
- ‚úÖ **–®–∞–≥ 2:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–∑–≤—É—á–Ω–æ–≥–æ —Ä–æ–ª–∏–∫–∞
- ‚úÖ **–®–∞–≥ 3:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ
- ‚úÖ **–®–∞–≥ 4:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ **–®–∞–≥ 5:** –ù–∞–ª–æ–∂–µ–Ω–∏–µ –∞—É–¥–∏–æ –Ω–∞ –≤–∏–¥–µ–æ
- ‚è≠Ô∏è  **–®–∞–≥ 6:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–æ–ª–∏–∫–∞ (–°–õ–ï–î–£–Æ–©–ò–ô)
- ‚è≠Ô∏è  **–®–∞–≥ 7:** –°—É–±—Ç–∏—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### **–®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–æ–ª–∏–∫–∞**
1. –û—Ç–∫—Ä–æ–π: https://edit.synthnova.me/final-video.html
2. –ü–æ—Å–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ ‚Äî –ø—Ä–æ–≤–µ—Ä—å –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
3. –°–∫–∞—á–∞–π –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### **–®–∞–≥ 7: –°—É–±—Ç–∏—Ç—Ä—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)**
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –∞—É–¥–∏–æ ‚Üí SRT —Ñ–∞–π–ª
- –ù–∞–ª–æ–∂–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –Ω–∞ –≤–∏–¥–µ–æ

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É!

–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: **2026-01-18 08:45**
Job ID: **job_1768725682222_010da99c**
